<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduGlo</title>
    <link rel="shortcut icon" href="/images/logo-new.svg" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../css/normalize.css">
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body>
    <main class="register-page">
        <div class="container">
            <div class="toggle-container">
                <div class="toggle">
                    <div class="toggel-panel-left">
                        <a href="index.html"><img src="../../images/logo-sign-up.svg" alt="logo"></a>
                        <h1>Ваш путеводитель в мир образования за границей</h1>
                    </div>
                </div>
            </div>

            <div class="container-for-register">
                <form id="registrationForm">
                    <h1>РЕГИСТРАЦИЯ</h1>

                    <input type="email" id="email" name="email" placeholder="Электронная почта" class="register-input"
                        autocomplete="username">

                    <input type="password" id="password" name="password" placeholder="Пароль" class="register-input"
                        autocomplete="current-password">

                    <!--                     <input type="password" id="password" name="password" placeholder="Повторите пароль"
                        class="register-input"> -->

                    <!--                     <article class="register-checkbox">
                        <div><input type="checkbox" id="myCheckbox1" name="checkbox1" value="value1"> <label for="myCheckbox1"><a href="/html/user/student-profile.html">Я студент</a></label></div>
                        <div><input type="checkbox" id="myCheckbox2" name="checkbox2" value="value2"> <label for="myCheckbox2"><a href="/html/user/student-profile.html">Я ментор</a></label></div>
                    </article>
                 -->

                    <!-- <a href="#" class="register-btn">Зарегистрироваться</a> -->

                    <button type="submit">Register</button>

                    <b>или</b>

                    <div class="register-social">
                        <a href="#" class="register-social-icon"><img src="../../images/sign-up-google.svg"
                                alt="google"></a>
                    </div>

                    <span>Уже есть аккаунт? <a href="./login.html"> Войти</a></span>
                </form>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("registrationForm").addEventListener("submit", function (event) {
                event.preventDefault();
                const email = document.getElementById("email").value;
                const password = document.getElementById("password").value;

                fetch("/register", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({ email, password }),
                })
                    .then(response => response.json())
                    .then(data => {
                        console.log("Response from server:", data);
                        // Перенаправление на страницу профиля после успешной регистрации
                        window.location.href = '/profile';
                    })
                    .catch(error => {
                        console.error("Error:", error);
                    });
            });
        });
    </script>

</body>

</html>